{"version":3,"sources":["webpack:///./src/layouts/list-all.tsx","webpack:///./src/layouts/list-all.module.less","webpack:///./src/layouts/release-notes.tsx","webpack:///./src/pages/release-notes/list.tsx"],"names":["ListAllLayout","props","groupedItems","Object","entries","allItems","forEach","pagePath","pageTitle","groupName","grouper","Layout","layout","map","items","key","id","className","styles","itemList","to","children","module","exports","ReleaseNotesLayout","newsLinks","releaseLinks","index","root","recentNews","recentReleases","path","getPagePath","location","currentVersion","version","substring","lastIndexOf","match","undefined","candidateMdxNodes","prefix","pageTitleSuffix","href","aria-label","aria-hidden","focusable","height","viewBox","width","fillRule","d","allPaths","keys","allReleases","pagePathToVersion","lastSlashIndex","useCallback","firstDotIndex","indexOf","length"],"mappings":"s3BAiDeA,IAnCqC,SAACC,GACnD,IAAMC,EAEF,GAEJC,OAAOC,QAAQH,EAAMI,UAAUC,SAAQ,YAA2B,IAAzBC,EAAyB,KAAfC,EAAe,KAC1DC,EAAYR,EAAMS,QAAQH,GAC3BL,EAAaO,KAChBP,EAAaO,GAAa,IAE5BP,EAAaO,GAAWF,GAAYC,KAGtC,IAAMG,EAASV,EAAMW,OAErB,OACE,kBAACD,EAAWV,EACV,4BAAKA,EAAMO,WACVL,OAAOC,QAAQF,GAAcW,KAAI,gBAAEJ,EAAF,KAAaK,EAAb,YAChC,0BAAMC,IAAKN,GACT,wBAAIO,GAAIP,GAAYA,GACpB,wBAAIQ,UAAWC,IAAOC,UACnBhB,OAAOC,QAAQU,GAAOD,KAAI,gBAAEN,EAAF,KAAYC,EAAZ,YACzB,wBAAIO,IAAKR,GACP,kBAAC,OAAD,CAAMa,GAAIb,GAAWC,YAM9BP,EAAMoB,Y,uBC3CbC,EAAOC,QAAU,CAAC,SAAW,mCAAmC,oBAAsB,8CAA8C,oBAAsB,gD,iLCoF3IC,IAtE+C,SAACvB,GAC7D,IAAMwB,EAA2C,GAC3CC,EAA8C,GAC9CC,EAAQ,CACZC,KAAM,CACJ,oBAAqB,QACrB,uBAAwB,iBACxB,kBAAmB,aACnB,qBAAsB,uBAExB,oBAAqBH,EACrB,kBAAmBC,GAErBvB,OAAOC,QAAQyB,GAAYvB,SAAQ,YAA2B,IAAzBC,EAAyB,KAAfC,EAAe,KAC5DiB,EAAUjB,GAAaD,KAEzBJ,OAAOC,QAAQ0B,GAAgBxB,SAAQ,YAA2B,IAAzBC,EAAyB,KAAfC,EAAe,KAChEkB,EAAalB,GAAaD,KAG5B,IAAMwB,EAAOC,YAAY/B,EAAMgC,UAC3BC,EACFjC,EAAMkC,SAAWJ,EAAKK,UAAUL,EAAKM,YAAY,KAAO,GAM1D,OAJKH,EAAeI,MAAM,YACxBJ,OAAiBK,GAIjB,kBAAC,IAAD,iBACMtC,EADN,CAEEuC,kBAAmB,GACnBb,MAAOA,EACPc,OAAO,gBACPjC,UACE0B,EAAoBA,EAAN,iBAAuCjC,EAAMO,UAE7DkC,gBAAgB,0BAEfR,EACC,wBAAIlB,GAAG,iBACL,uBACE2B,KAAK,iBACLC,aAAW,0BACX3B,UAAU,iBAEV,yBACE4B,cAAY,OACZC,UAAU,QACVC,OAAO,KACPZ,QAAQ,MACRa,QAAQ,YACRC,MAAM,MAEN,0BACEC,SAAS,UACTC,EAAE,oVAIPjB,EApBH,kBAuBA,GAEDjC,EAAMoB,Y,shDCxEE,mBAACpB,GACd,IAAMmD,EAAWjD,OAAOkD,KAAKC,GAC7B,SAASC,EAAkBhD,GACzB,IAAMiD,EAAiBjD,EAAS8B,YAAY,KAC5C,OAAImB,GAAkB,EACbjD,EAAS6B,UAAUoB,EAAiB,GAEtCjD,EAGT,OACE,kBAAC,IAAD,iBACMN,EADN,CAEEO,UAAU,sCACVH,SAAUiD,EACV1C,OAAQY,IACRd,QAAS+C,uBAAY,SAAClD,GACpB,IAAM4B,EAAUoB,EAAkBhD,GAC5BmD,EAAgBvB,EAAQwB,QAAQ,KAGtC,kBADED,GAAiB,EAAIvB,EAAQC,UAAU,EAAGsB,GAAiBvB,KAE5D,MAEH,wBAAInB,GAAG,uBAAP,uBACA,iCACM,IACJ,kBAAC,eAAD,CACE2B,KAAI,0DAA4DY,EAC9DH,EAASA,EAASQ,OAAS,KAF/B,wBAFF","file":"component---src-pages-release-notes-list-tsx-479ab95d9c944599bf41.js","sourcesContent":["import { RouteComponentProps } from '@reach/router';\nimport { Link } from 'gatsby';\nimport React from 'react';\n\nimport styles from './list-all.module.less';\n\ninterface ListAllLayoutProps extends RouteComponentProps {\n  pageContext: any;\n  pageTitle: string;\n  allItems: { [pagePath: string]: string };\n  grouper: (pagePath: string) => string;\n  layout: React.FC;\n}\n\nconst ListAllLayout: React.FC<ListAllLayoutProps> = (props) => {\n  const groupedItems: {\n    [groupName: string]: { [pagePath: string]: string };\n  } = {};\n\n  Object.entries(props.allItems).forEach(([pagePath, pageTitle]) => {\n    const groupName = props.grouper(pagePath);\n    if (!groupedItems[groupName]) {\n      groupedItems[groupName] = {};\n    }\n    groupedItems[groupName][pagePath] = pageTitle;\n  });\n\n  const Layout = props.layout;\n\n  return (\n    <Layout {...props}>\n      <h1>{props.pageTitle}</h1>\n      {Object.entries(groupedItems).map(([groupName, items]) => (\n        <span key={groupName}>\n          <h2 id={groupName}>{groupName}</h2>\n          <ul className={styles.itemList}>\n            {Object.entries(items).map(([pagePath, pageTitle]) => (\n              <li key={pagePath}>\n                <Link to={pagePath}>{pageTitle}</Link>\n              </li>\n            ))}\n          </ul>\n        </span>\n      ))}\n      {props.children}\n    </Layout>\n  );\n};\n\nexport default ListAllLayout;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemList\":\"list-all-module--itemList--1uKy5\",\"hideOnReducedMotion\":\"list-all-module--hideOnReducedMotion--2qSo7\",\"showOnReducedMotion\":\"list-all-module--showOnReducedMotion--2nn3G\"};","import { RouteComponentProps } from '@reach/router';\nimport React from 'react';\n\nimport recentNews from '../../gen-src/news-recent.json';\nimport recentReleases from '../../gen-src/release-notes-recent.json';\nimport MdxLayout from './mdx';\nimport getPagePath from './page-path';\n\ninterface ReleaseNotesLayoutProps extends RouteComponentProps {\n  pageContext: any;\n  pageTitle: string;\n  version?: string;\n  noEdit?: boolean;\n}\n\nconst ReleaseNotesLayout: React.FC<ReleaseNotesLayoutProps> = (props) => {\n  const newsLinks: { [version: string]: string } = {};\n  const releaseLinks: { [version: string]: string } = {};\n  const index = {\n    root: {\n      'Latest news items': '/news',\n      'Latest release notes': '/release-notes',\n      'Past news items': '/news/list',\n      'Past release notes': '/release-notes/list',\n    },\n    'Recent news items': newsLinks,\n    'Recent releases': releaseLinks,\n  };\n  Object.entries(recentNews).forEach(([pagePath, pageTitle]) => {\n    newsLinks[pageTitle] = pagePath;\n  });\n  Object.entries(recentReleases).forEach(([pagePath, pageTitle]) => {\n    releaseLinks[pageTitle] = pagePath;\n  });\n\n  const path = getPagePath(props.location);\n  let currentVersion =\n    props.version || path.substring(path.lastIndexOf('/') + 1);\n\n  if (!currentVersion.match(/^[0-9]/)) {\n    currentVersion = undefined;\n  }\n\n  return (\n    <MdxLayout\n      {...props}\n      candidateMdxNodes={[]}\n      index={index}\n      prefix=\"release-notes\"\n      pageTitle={\n        currentVersion ? `${currentVersion} release notes` : props.pageTitle\n      }\n      pageTitleSuffix=\"Armeria release notes\"\n    >\n      {currentVersion ? (\n        <h1 id=\"release-notes\">\n          <a\n            href=\"#release-notes\"\n            aria-label=\"release notes permalink\"\n            className=\"anchor before\"\n          >\n            <svg\n              aria-hidden=\"true\"\n              focusable=\"false\"\n              height=\"16\"\n              version=\"1.1\"\n              viewBox=\"0 0 16 16\"\n              width=\"16\"\n            >\n              <path\n                fillRule=\"evenodd\"\n                d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n              />\n            </svg>\n          </a>\n          {currentVersion} release notes\n        </h1>\n      ) : (\n        ''\n      )}\n      {props.children}\n    </MdxLayout>\n  );\n};\n\nexport default ReleaseNotesLayout;\n","import React, { useCallback } from 'react';\n\nimport { OutboundLink } from 'gatsby-plugin-google-analytics';\nimport ListAllLayout from '../../layouts/list-all';\nimport ReleaseNotesLayout from '../../layouts/release-notes';\n\nimport allReleases from '../../../gen-src/release-notes-all.json';\n\nexport default (props: any) => {\n  const allPaths = Object.keys(allReleases);\n  function pagePathToVersion(pagePath: string) {\n    const lastSlashIndex = pagePath.lastIndexOf('/');\n    if (lastSlashIndex >= 0) {\n      return pagePath.substring(lastSlashIndex + 1);\n    }\n    return pagePath;\n  }\n\n  return (\n    <ListAllLayout\n      {...props}\n      pageTitle=\"Release notes for all past versions\"\n      allItems={allReleases}\n      layout={ReleaseNotesLayout}\n      grouper={useCallback((pagePath) => {\n        const version = pagePathToVersion(pagePath);\n        const firstDotIndex = version.indexOf('.');\n        const majorVersion =\n          firstDotIndex >= 0 ? version.substring(0, firstDotIndex) : version;\n        return `Version ${majorVersion}`;\n      }, [])}\n    >\n      <h2 id=\"even-older-versions\">Even older versions</h2>\n      <p>\n        See{' '}\n        <OutboundLink\n          href={`https://github.com/line/armeria/releases?after=armeria-${pagePathToVersion(\n            allPaths[allPaths.length - 1],\n          )}`}\n        >\n          Github releases page\n        </OutboundLink>\n        .\n      </p>\n    </ListAllLayout>\n  );\n};\n"],"sourceRoot":""}